<h3>訪問看護指示書</h3>

<div>
    <button type="button" class="btn btn-secondary" id="houmon-kango-select-patient">患者選択</button>
</div>
<div id="houmon-kango-patient" class="my-4"></div>

<form class="form-inline houmon-kango-create-shijisho-form"
      target="_blank" action="javascript:void(0)" method="post">
    <button type="submit" class="btn btn-primary houmon-kango-create-shijisho">指示書作成</button>
</form>

<script>
    (async function(){
        let chooser = await import("./js/choose-patient.js");
        let displayer = await import("./js/disp-patient.js");

        $(".houmon-kango-create-shijisho-form").attr("action", integration.url("/houmon-kango/create-shijisho"));

        $("#houmon-kango-select-patient").on("click", async event => {
            let patient = await chooser.choosePatient();
            if( patient ){
                start(patient);
            }
        });

        async function start(patient){
            let disp = displayer.disp(patient);
            $("#houmon-kango-patient").html("").append(disp);
        }

        $(".houmon-kango-create").on("click", event => {

        });
    })();
</script>